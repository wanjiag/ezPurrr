<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ezPurrr">
<title>ezPurrr example • ezPurrr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ezPurrr example">
<meta property="og:description" content="ezPurrr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ezPurrr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/using-ezPurrr.html">ezPurrr example</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="using-ezPurrr_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>ezPurrr example</h1>
            
      
      
      <div class="d-none name"><code>using-ezPurrr.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://wanjiag.github.io/ezPurrr/">ezPurrr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></code></pre></div>
<p>A nested dataset is needed to use functions.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nest_df</span> <span class="op">&lt;-</span> <span class="fu">palmerpenguins</span><span class="fu">::</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/reference/penguins.html" class="external-link">penguins</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">island</span>, <span class="va">species</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">nest</a></span><span class="op">(</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nest_df</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 3</span></span>
<span class="co">#&gt; <span style="color: #949494;"># Groups:   island, species [5]</span></span>
<span class="co">#&gt;   species   island    data              </span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>            </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Adelie    Torgersen <span style="color: #949494;">&lt;tibble [52 × 6]&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Adelie    Biscoe    <span style="color: #949494;">&lt;tibble [44 × 6]&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Adelie    Dream     <span style="color: #949494;">&lt;tibble [56 × 6]&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Gentoo    Biscoe    <span style="color: #949494;">&lt;tibble [124 × 6]&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Chinstrap Dream     <span style="color: #949494;">&lt;tibble [68 × 6]&gt;</span></span></code></pre></div>
<div class="section level2">
<h2 id="sample_">
<code>sample_*()</code><a class="anchor" aria-label="anchor" href="#sample_"></a>
</h2>
<div class="section level4">
<h4 id="sample_row">
<code>sample_row()</code><a class="anchor" aria-label="anchor" href="#sample_row"></a>
</h4>
<p>sample_row() returns one random or one particular row (with <code>index</code> argument) from the nested data as a list or a data frame. If returning a list (default), one row of the nested data will the first item of the list, and each of the other grouping variables will be another item in the list. If returning a data frame (with <code>type = df</code> argument), then the data frame will include one row of the nested data, as well as each grouping variable as a column with identical repeated content.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># In here, species and island are the grouping variables.</span>

<span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/sample_row.html">sample_row</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; row 2 is selected randomly</span>
<span class="co">#&gt; $data</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 44 × 6</span></span>
<span class="co">#&gt;    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex     year</span>
<span class="co">#&gt;             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>           37.8          18.3               174        <span style="text-decoration: underline;">3</span>400 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>           37.7          18.7               180        <span style="text-decoration: underline;">3</span>600 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>           35.9          19.2               189        <span style="text-decoration: underline;">3</span>800 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>           38.2          18.1               185        <span style="text-decoration: underline;">3</span>950 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>           38.8          17.2               180        <span style="text-decoration: underline;">3</span>800 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>           35.3          18.9               187        <span style="text-decoration: underline;">3</span>800 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>           40.6          18.6               183        <span style="text-decoration: underline;">3</span>550 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>           40.5          17.9               187        <span style="text-decoration: underline;">3</span>200 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>           37.9          18.6               172        <span style="text-decoration: underline;">3</span>150 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span>           40.5          18.9               180        <span style="text-decoration: underline;">3</span>950 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 34 more rows</span></span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $island</span>
<span class="co">#&gt; [1] Biscoe</span>
<span class="co">#&gt; Levels: Biscoe Dream Torgersen</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $species</span>
<span class="co">#&gt; [1] Adelie</span>
<span class="co">#&gt; Levels: Adelie Chinstrap Gentoo</span>

<span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/sample_row.html">sample_row</a></span><span class="op">(</span>index <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; $data</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 56 × 6</span></span>
<span class="co">#&gt;    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex     year</span>
<span class="co">#&gt;             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>           39.5          16.7               178        <span style="text-decoration: underline;">3</span>250 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>           37.2          18.1               178        <span style="text-decoration: underline;">3</span>900 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>           39.5          17.8               188        <span style="text-decoration: underline;">3</span>300 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>           40.9          18.9               184        <span style="text-decoration: underline;">3</span>900 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>           36.4          17                 195        <span style="text-decoration: underline;">3</span>325 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>           39.2          21.1               196        <span style="text-decoration: underline;">4</span>150 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>           38.8          20                 190        <span style="text-decoration: underline;">3</span>950 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>           42.2          18.5               180        <span style="text-decoration: underline;">3</span>550 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>           37.6          19.3               181        <span style="text-decoration: underline;">3</span>300 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span>           39.8          19.1               184        <span style="text-decoration: underline;">4</span>650 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 46 more rows</span></span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $island</span>
<span class="co">#&gt; [1] Dream</span>
<span class="co">#&gt; Levels: Biscoe Dream Torgersen</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $species</span>
<span class="co">#&gt; [1] Adelie</span>
<span class="co">#&gt; Levels: Adelie Chinstrap Gentoo</span>

<span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/sample_row.html">sample_row</a></span><span class="op">(</span>index <span class="op">=</span> <span class="fl">3</span>, type <span class="op">=</span> <span class="st">'df'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 8</span></span>
<span class="co">#&gt;   bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex     year</span>
<span class="co">#&gt;            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span>           39.5          16.7               178        <span style="text-decoration: underline;">3</span>250 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span>           37.2          18.1               178        <span style="text-decoration: underline;">3</span>900 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span>           39.5          17.8               188        <span style="text-decoration: underline;">3</span>300 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span>           40.9          18.9               184        <span style="text-decoration: underline;">3</span>900 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span>           36.4          17                 195        <span style="text-decoration: underline;">3</span>325 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span>           39.2          21.1               196        <span style="text-decoration: underline;">4</span>150 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 2 more variables: group.island &lt;fct&gt;, group.species &lt;fct&gt;</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="sample_data">
<code>sample_data()</code><a class="anchor" aria-label="anchor" href="#sample_data"></a>
</h4>
<p>sample_data() returns one random or one particular data column (with <code>index</code> argument) from the nested data with no grouping variables.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/sample_data.html">sample_data</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; row 3 is selected randomly</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 56 × 6</span></span>
<span class="co">#&gt;    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex     year</span>
<span class="co">#&gt;             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>           39.5          16.7               178        <span style="text-decoration: underline;">3</span>250 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>           37.2          18.1               178        <span style="text-decoration: underline;">3</span>900 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>           39.5          17.8               188        <span style="text-decoration: underline;">3</span>300 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>           40.9          18.9               184        <span style="text-decoration: underline;">3</span>900 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>           36.4          17                 195        <span style="text-decoration: underline;">3</span>325 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>           39.2          21.1               196        <span style="text-decoration: underline;">4</span>150 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>           38.8          20                 190        <span style="text-decoration: underline;">3</span>950 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>           42.2          18.5               180        <span style="text-decoration: underline;">3</span>550 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>           37.6          19.3               181        <span style="text-decoration: underline;">3</span>300 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span>           39.8          19.1               184        <span style="text-decoration: underline;">4</span>650 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 46 more rows</span></span>

<span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/sample_data.html">sample_data</a></span><span class="op">(</span>index <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 56 × 6</span></span>
<span class="co">#&gt;    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex     year</span>
<span class="co">#&gt;             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>           39.5          16.7               178        <span style="text-decoration: underline;">3</span>250 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>           37.2          18.1               178        <span style="text-decoration: underline;">3</span>900 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>           39.5          17.8               188        <span style="text-decoration: underline;">3</span>300 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>           40.9          18.9               184        <span style="text-decoration: underline;">3</span>900 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>           36.4          17                 195        <span style="text-decoration: underline;">3</span>325 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>           39.2          21.1               196        <span style="text-decoration: underline;">4</span>150 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>           38.8          20                 190        <span style="text-decoration: underline;">3</span>950 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>           42.2          18.5               180        <span style="text-decoration: underline;">3</span>550 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>           37.6          19.3               181        <span style="text-decoration: underline;">3</span>300 female  <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span>           39.8          19.1               184        <span style="text-decoration: underline;">4</span>650 male    <span style="text-decoration: underline;">2</span>007</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 46 more rows</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="sample_group">
<code>sample_group()</code><a class="anchor" aria-label="anchor" href="#sample_group"></a>
</h4>
<p>sample_group() returns one random or one particular grouping columns (with <code>index</code> argument) from the nested dataset with no data.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/sample_group.html">sample_group</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; row 4 is selected randomly</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span>
<span class="co">#&gt; <span style="color: #949494;"># Groups:   island, species [1]</span></span>
<span class="co">#&gt;   species island</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Gentoo  Biscoe</span>

<span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/sample_group.html">sample_group</a></span><span class="op">(</span>index <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span>
<span class="co">#&gt; <span style="color: #949494;"># Groups:   island, species [1]</span></span>
<span class="co">#&gt;   species island</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Adelie  Dream</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="broadcast">
<code>broadcast()</code><a class="anchor" aria-label="anchor" href="#broadcast"></a>
</h2>
<div class="section level4">
<h4 id="broadcast-1">
<code>broadcast()</code><a class="anchor" aria-label="anchor" href="#broadcast-1"></a>
</h4>
<p>You can use the sampling dataset to test the code you want to be applied for each row, such as figures or <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> models.</p>
<p>Plotting:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/sample_data.html">sample_data</a></span><span class="op">(</span>index <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bill_length_mm</span>,
                           y <span class="op">=</span> <span class="va">bill_depth_mm</span>,
                           color <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="using-ezPurrr_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>Then, by wrapping it into a function, it can be easily broadcasted into each row of the nested dataset.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">plotting</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">{</span>
  <span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bill_length_mm</span>,
                             y <span class="op">=</span> <span class="va">bill_depth_mm</span>,
                             color <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">broadcasted_df</span> <span class="op">=</span> <span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/broadcast.html">broadcast</a></span><span class="op">(</span><span class="va">plotting</span><span class="op">)</span>

<span class="va">broadcasted_df</span><span class="op">$</span><span class="va">output</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
<span class="co">#&gt; Warning: Removed 1 rows containing missing values (geom_point).</span></code></pre></div>
<p><img src="using-ezPurrr_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>You can also use it for modeling or other functions:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tmp_df</span> <span class="op">=</span> <span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/sample_data.html">sample_data</a></span><span class="op">(</span>index <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">body_mass_g</span> <span class="op">~</span> <span class="va">bill_length_mm</span> <span class="op">*</span> <span class="va">bill_depth_mm</span>, data <span class="op">=</span> <span class="va">tmp_df</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = body_mass_g ~ bill_length_mm * bill_depth_mm, data = tmp_df)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                  (Intercept)                bill_length_mm  </span>
<span class="co">#&gt;                   -2079.0346                       92.6987  </span>
<span class="co">#&gt;                bill_depth_mm  bill_length_mm:bill_depth_mm  </span>
<span class="co">#&gt;                     145.9699                       -0.6616</span>

<span class="va">modeling</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">{</span>
   <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">body_mass_g</span> <span class="op">~</span> <span class="va">bill_length_mm</span> <span class="op">+</span> <span class="va">bill_depth_mm</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/broadcast.html">broadcast</a></span><span class="op">(</span><span class="va">modeling</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">.</span><span class="op">$</span><span class="va">output</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = body_mass_g ~ bill_length_mm + bill_depth_mm, data = data)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;    (Intercept)  bill_length_mm   bill_depth_mm  </span>
<span class="co">#&gt;       -1161.63           47.79          163.14  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = body_mass_g ~ bill_length_mm + bill_depth_mm, data = data)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;    (Intercept)  bill_length_mm   bill_depth_mm  </span>
<span class="co">#&gt;       -3015.76           86.27          183.06  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = body_mass_g ~ bill_length_mm + bill_depth_mm, data = data)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;    (Intercept)  bill_length_mm   bill_depth_mm  </span>
<span class="co">#&gt;       -1622.93           80.87          120.41  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[4]]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = body_mass_g ~ bill_length_mm + bill_depth_mm, data = data)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;    (Intercept)  bill_length_mm   bill_depth_mm  </span>
<span class="co">#&gt;       -1452.12           57.64          252.96  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[5]]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = body_mass_g ~ bill_length_mm + bill_depth_mm, data = data)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;    (Intercept)  bill_length_mm   bill_depth_mm  </span>
<span class="co">#&gt;        -356.11           23.82          158.84</span></code></pre></div>
<p>Instead of a list, you can also make the output a number (double).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">modeling</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">{</span>
  <span class="va">model</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">body_mass_g</span> <span class="op">~</span> <span class="va">bill_length_mm</span> <span class="op">+</span> <span class="va">bill_depth_mm</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span>
  <span class="va">model</span><span class="op">$</span><span class="va">coefficients</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="co"># the slope for bill_length_mm</span>
<span class="op">}</span>

<span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/broadcast.html">broadcast</a></span><span class="op">(</span><span class="va">modeling</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">.</span><span class="op">$</span><span class="va">output</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; bill_length_mm </span>
<span class="co">#&gt;       47.78764 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; bill_length_mm </span>
<span class="co">#&gt;       86.27406 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt; bill_length_mm </span>
<span class="co">#&gt;       80.86942 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[4]]</span>
<span class="co">#&gt; bill_length_mm </span>
<span class="co">#&gt;       57.64173 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[5]]</span>
<span class="co">#&gt; bill_length_mm </span>
<span class="co">#&gt;       23.82257</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="broadcast_group">
<code>broadcast_group()</code><a class="anchor" aria-label="anchor" href="#broadcast_group"></a>
</h4>
<p><code><a href="../reference/broadcast_group.html">broadcast_group()</a></code> allows you to also use grouping variables in the function. It is still under develop so currently it only works in a more limited way. For example, you can include grouping variables as title for plots.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">=</span> <span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/sample_row.html">sample_row</a></span><span class="op">(</span>index <span class="op">=</span> <span class="fl">3</span>, type <span class="op">=</span> <span class="st">'list'</span><span class="op">)</span>

<span class="va">plotting</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">species</span>, <span class="va">island</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bill_length_mm</span>,
                             y <span class="op">=</span> <span class="va">bill_depth_mm</span>,
                             color <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">species</span>, <span class="va">island</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>

<span class="fu">plotting</span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">data</span>, <span class="va">df</span><span class="op">$</span><span class="va">species</span>, <span class="va">df</span><span class="op">$</span><span class="va">island</span><span class="op">)</span></code></pre></div>
<p><img src="using-ezPurrr_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">nest_df</span> <span class="op">=</span> <span class="va">nest_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/broadcast_group.html">broadcast_group</a></span><span class="op">(</span><span class="va">plotting</span><span class="op">)</span>

<span class="va">nest_df</span><span class="op">$</span><span class="va">output</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
<span class="co">#&gt; Warning: Removed 1 rows containing missing values (geom_point).</span></code></pre></div>
<p><img src="using-ezPurrr_files/figure-html/unnamed-chunk-10-2.png" width="700"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nest_df</span><span class="op">$</span><span class="va">output</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span>
<span class="co">#&gt; Warning: Removed 1 rows containing missing values (geom_point).</span></code></pre></div>
<p><img src="using-ezPurrr_files/figure-html/unnamed-chunk-10-3.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="testing">Testing::<a class="anchor" aria-label="anchor" href="#testing"></a>
</h2>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Wanjia Guo.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
